{"ast":null,"code":"var _jsxFileName = \"/app/components/molecules/signupform.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport request from 'superagent';\nexport default class SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '1',\n      password: '1',\n      username: '1',\n      jump: '',\n      msg: ''\n    };\n  }\n\n  api(command) {\n    request.post('https://rails.local/api/' + command).send({\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password\n    }).end((err, res) => {\n      //console.log(res.statusCode)\n      if (err) {\n        console.log(err.response.text);\n        this.setState({\n          msg: err.response.text\n        });\n        return;\n      }\n\n      localStorage.setItem('token', res.text);\n      let token = localStorage.getItem('token');\n      console.log(token);\n      Router.push('/');\n      /*\n      if (err) return\n      const r = res.body\n      console.log(r)\n      if (r.status && r.token) {\n          alert('接続')\n          window.localStorage['sns_id'] = this.state.userid\n          window.localStorage['sns_auth_token'] = r.token\n          this.setState({Jump: '/'})\n          return\n      }\n      this.setState({msg: r.msg})\n      */\n    });\n  }\n\n  render() {\n    if (this.state.jump) {\n      return __jsx(Redirect, {\n        to: this.state.jump,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      });\n    }\n\n    const changed = (name, e) => this.setState({\n      [name]: e.target.value\n    });\n\n    return __jsx(\"div\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9:\"), __jsx(\"input\", {\n      type: \"email\",\n      value: this.state.email,\n      onChange: e => changed('email', e),\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"), __jsx(\"input\", {\n      type: \"password\",\n      value: this.state.password,\n      onChange: e => changed('password', e),\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"\\u30E6\\u30FC\\u30B6\\u30FC\\u30CD\\u30FC\\u30E0\"), __jsx(\"input\", {\n      value: this.state.username,\n      onChange: e => changed('username', e),\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      onClick: e => this.api('signup'),\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u767B\\u9332\"), __jsx(\"br\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      className: \"jsx-3259989858\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.msg)), __jsx(_JSXStyle, {\n      id: \"3259989858\",\n      __self: this\n    }, \"span.jsx-3259989858{display:block;}input.jsx-3259989858{width:100%;height:32px;margin-bottom:40px;}button.jsx-3259989858{display:block;width:60px;height:32px;margin-left:auto;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9tb2xlY3VsZXMvc2lnbnVwZm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvRTRCLEFBR3VDLEFBR0gsQUFLRyxXQUpGLEdBSGhCLEFBUWUsU0FKUSxFQUtQLFlBQ0ssS0FMckIsWUFNQSIsImZpbGUiOiIvYXBwL2NvbXBvbmVudHMvbW9sZWN1bGVzL3NpZ251cGZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVyYWdlbnQnXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lnblVwRm9ybSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKVxuICAgICAgICB0aGlzLnN0YXRlID0geyBlbWFpbDogJzEnLHBhc3N3b3JkOiAnMScsdXNlcm5hbWU6ICcxJyxqdW1wOiAnJywgbXNnOiAnJyB9XG4gICAgfVxuXG4gICAgYXBpIChjb21tYW5kKSB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgIC5wb3N0KCdodHRwczovL3JhaWxzLmxvY2FsL2FwaS8nICsgY29tbWFuZClcbiAgICAgICAgICAgIC5zZW5kKHtcbiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuc3RhdHVzQ29kZSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS50ZXh0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHttc2c6IGVyci5yZXNwb25zZS50ZXh0fSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzLnRleHQpXG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW4pXG4gICAgICAgICAgICAgICAgUm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVyblxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSByZXMuYm9keVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpXG4gICAgICAgICAgICAgICAgaWYgKHIuc3RhdHVzICYmIHIudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aOpee2micpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3Nuc19pZCddID0gdGhpcy5zdGF0ZS51c2VyaWRcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZVsnc25zX2F1dGhfdG9rZW4nXSA9IHIudG9rZW5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7SnVtcDogJy8nfSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21zZzogci5tc2d9KVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9KVxuICAgIH1cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmp1bXApIHtcbiAgICAgICAgICAgIHJldHVybiA8UmVkaXJlY3QgdG89e3RoaXMuc3RhdGUuanVtcH0gLz5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gKG5hbWUsIGUpID0+IHRoaXMuc2V0U3RhdGUoe1tuYW1lXTogZS50YXJnZXQudmFsdWV9KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7jg6Hjg7zjg6vjgqLjg4njg6zjgrk6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VkKCdlbWFpbCcsIGUpfSAvPjxiciAvPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7jg5Hjgrnjg6/jg7zjg4k8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdwYXNzd29yZCcgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VkKCdwYXNzd29yZCcgLCBlKX0gLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+44Om44O844K244O844ON44O844OgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VkKCd1c2VybmFtZScgLCBlKX0gLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtl44CAPT4gdGhpcy5hcGkoJ3NpZ251cCcpfT7nmbvpjLI8L2J1dHRvbj48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHA+e3RoaXMuc3RhdGUubXNnfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0iXX0= */\\n/*@ sourceURL=/app/components/molecules/signupform.js */\"));\n  }\n\n}","map":{"version":3,"sources":["/app/components/molecules/signupform.js"],"names":["React","Component","Router","request","SignUpForm","constructor","props","state","email","password","username","jump","msg","api","command","post","send","end","err","res","console","log","response","text","setState","localStorage","setItem","token","getItem","push","render","changed","name","e","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Router from 'next/router'\nimport request from 'superagent'\n\n\nexport default class SignUpForm extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { email: '1',password: '1',username: '1',jump: '', msg: '' }\n    }\n\n    api (command) {\n        request\n            .post('https://rails.local/api/' + command)\n            .send({\n                email: this.state.email,\n                username: this.state.username,\n                password: this.state.password\n            })\n            .end((err, res) => {\n                \n                //console.log(res.statusCode)\n                \n                if (err) {\n                    console.log(err.response.text)\n                    this.setState({msg: err.response.text})\n                    return\n                }\n\n                localStorage.setItem('token', res.text)\n                let token = localStorage.getItem('token');\n                console.log(token)\n                Router.push('/');\n                /*\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    alert('接続')\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/'})\n                    return\n                }\n                this.setState({msg: r.msg})\n                */\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <div>\n                    <span>メールアドレス:</span>\n                    <input type=\"email\" value={this.state.email}\n                        onChange={e => changed('email', e)} /><br />\n                    <span>パスワード</span>\n                    <input type='password' value={this.state.password}\n                        onChange={e => changed('password' , e)} /><br />\n                    <span>ユーザーネーム</span>\n                    <input value={this.state.username}\n                        onChange={e => changed('username' , e)} /><br />\n                    <button onClick={e　=> this.api('signup')}>登録</button><br />\n                    <p>{this.state.msg}</p>\n                </div>\n                <style jsx>{`\n                    span {\n                        display: block;\n                    }\n                    input {\n                        width: 100%;\n                        height: 32px;\n                        margin-bottom: 40px;\n                    }\n                    button {\n                        display: block;\n                        width: 60px;\n                        height: 32px;\n                        margin-left: auto;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}