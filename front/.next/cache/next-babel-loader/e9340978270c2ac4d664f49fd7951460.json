{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/app/components/molecules/signupform.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport request from 'superagent';\n\nvar SignUpForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpForm, _Component);\n\n  function SignUpForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpForm).call(this, props));\n    _this.state = {\n      email: '1',\n      password: '1',\n      username: '1',\n      jump: '',\n      msg: ''\n    };\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"api\",\n    value: function api(command) {\n      var _this2 = this;\n\n      request.post('https://rails.local/api/' + command).send({\n        email: this.state.email,\n        username: this.state.username,\n        password: this.state.password\n      }).end(function (err, res) {\n        //console.log(res.statusCode)\n        if (err) {\n          console.log(err.text);\n\n          _this2.setState({\n            msg: err.response\n          });\n\n          return;\n        }\n\n        localStorage.setItem(token, res.text);\n        /*\n        if (err) return\n        const r = res.body\n        console.log(r)\n        if (r.status && r.token) {\n            alert('接続')\n            window.localStorage['sns_id'] = this.state.userid\n            window.localStorage['sns_auth_token'] = r.token\n            this.setState({Jump: '/'})\n            return\n        }\n        this.setState({msg: r.msg})\n        */\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.jump) {\n        return __jsx(Redirect, {\n          to: this.state.jump,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        });\n      }\n\n      var changed = function changed(name, e) {\n        return _this3.setState(_defineProperty({}, name, e.target.value));\n      };\n\n      return __jsx(\"div\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9:\"), __jsx(\"input\", {\n        type: \"email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return changed('email', e);\n        },\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"), __jsx(\"input\", {\n        type: \"password\",\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return changed('password', e);\n        },\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"\\u30E6\\u30FC\\u30B6\\u30FC\\u30CD\\u30FC\\u30E0\"), __jsx(\"input\", {\n        value: this.state.username,\n        onChange: function onChange(e) {\n          return changed('username', e);\n        },\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        onClick: function onClick(e) {\n          return _this3.api('login');\n        },\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\u767B\\u9332\"), __jsx(\"br\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        className: \"jsx-3259989858\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.msg)), __jsx(_JSXStyle, {\n        id: \"3259989858\",\n        __self: this\n      }, \"span.jsx-3259989858{display:block;}input.jsx-3259989858{width:100%;height:32px;margin-bottom:40px;}button.jsx-3259989858{display:block;width:60px;height:32px;margin-left:auto;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9tb2xlY3VsZXMvc2lnbnVwZm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpRTRCLEFBR3VDLEFBR0gsQUFLRyxXQUpGLEdBSGhCLEFBUWUsU0FKUSxFQUtQLFlBQ0ssS0FMckIsWUFNQSIsImZpbGUiOiIvYXBwL2NvbXBvbmVudHMvbW9sZWN1bGVzL3NpZ251cGZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCdcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaWduVXBGb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IGVtYWlsOiAnMScscGFzc3dvcmQ6ICcxJyx1c2VybmFtZTogJzEnLGp1bXA6ICcnLCBtc2c6ICcnIH1cbiAgICB9XG5cbiAgICBhcGkgKGNvbW1hbmQpIHtcbiAgICAgICAgcmVxdWVzdFxuICAgICAgICAgICAgLnBvc3QoJ2h0dHBzOi8vcmFpbHMubG9jYWwvYXBpLycgKyBjb21tYW5kKVxuICAgICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5zdGF0dXNDb2RlKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnRleHQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21zZzogZXJyLnJlc3BvbnNlfSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odG9rZW4sIHJlcy50ZXh0KVxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gcmVzLmJvZHlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyKVxuICAgICAgICAgICAgICAgIGlmIChyLnN0YXR1cyAmJiByLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmjqXntponKVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWydzbnNfaWQnXSA9IHRoaXMuc3RhdGUudXNlcmlkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3Nuc19hdXRoX3Rva2VuJ10gPSByLnRva2VuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe0p1bXA6ICcvJ30pXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHttc2c6IHIubXNnfSlcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfSlcbiAgICB9XG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgaWYodGhpcy5zdGF0ZS5qdW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gPFJlZGlyZWN0IHRvPXt0aGlzLnN0YXRlLmp1bXB9IC8+XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IChuYW1lLCBlKSA9PiB0aGlzLnNldFN0YXRlKHtbbmFtZV06IGUudGFyZ2V0LnZhbHVlfSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+44Oh44O844Or44Ki44OJ44Os44K5Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gY2hhbmdlZCgnZW1haWwnLCBlKX0gLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+44OR44K544Ov44O844OJPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ncGFzc3dvcmQnIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gY2hhbmdlZCgncGFzc3dvcmQnICwgZSl9IC8+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPuODpuODvOOCtuODvOODjeODvOODoDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gY2hhbmdlZCgndXNlcm5hbWUnICwgZSl9IC8+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17ZeOAgD0+IHRoaXMuYXBpKCdsb2dpbicpfT7nmbvpjLI8L2J1dHRvbj48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHA+e3RoaXMuc3RhdGUubXNnfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0iXX0= */\\n/*@ sourceURL=/app/components/molecules/signupform.js */\"));\n    }\n  }]);\n\n  return SignUpForm;\n}(Component);\n\nexport { SignUpForm as default };","map":{"version":3,"sources":["/app/components/molecules/signupform.js"],"names":["React","Component","request","SignUpForm","props","state","email","password","username","jump","msg","command","post","send","end","err","res","console","log","text","setState","response","localStorage","setItem","token","changed","name","e","target","value","api"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport request from 'superagent'\n\n\nexport default class SignUpForm extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { email: '1',password: '1',username: '1',jump: '', msg: '' }\n    }\n\n    api (command) {\n        request\n            .post('https://rails.local/api/' + command)\n            .send({\n                email: this.state.email,\n                username: this.state.username,\n                password: this.state.password\n            })\n            .end((err, res) => {\n                \n                //console.log(res.statusCode)\n                \n                if (err) {\n                    console.log(err.text)\n                    this.setState({msg: err.response})\n                    return\n                }\n\n                localStorage.setItem(token, res.text)\n\n                /*\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    alert('接続')\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/'})\n                    return\n                }\n                this.setState({msg: r.msg})\n                */\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <div>\n                    <span>メールアドレス:</span>\n                    <input type=\"email\" value={this.state.email}\n                        onChange={e => changed('email', e)} /><br />\n                    <span>パスワード</span>\n                    <input type='password' value={this.state.password}\n                        onChange={e => changed('password' , e)} /><br />\n                    <span>ユーザーネーム</span>\n                    <input value={this.state.username}\n                        onChange={e => changed('username' , e)} /><br />\n                    <button onClick={e　=> this.api('login')}>登録</button><br />\n                    <p>{this.state.msg}</p>\n                </div>\n                <style jsx>{`\n                    span {\n                        display: block;\n                    }\n                    input {\n                        width: 100%;\n                        height: 32px;\n                        margin-bottom: 40px;\n                    }\n                    button {\n                        display: block;\n                        width: 60px;\n                        height: 32px;\n                        margin-left: auto;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}