{"ast":null,"code":"var _jsxFileName = \"/app/pages/signin.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Nav from '../components/Nav';\nimport request from 'superagent';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userid: '',\n      password: '',\n      jump: '',\n      msg: ''\n    };\n  }\n\n  api(command) {\n    request.get('/api/' + command).query({\n      userid: this.state.userid,\n      passwd: this.state.passwd\n    }).end((err, res) => {\n      if (err) return;\n      const r = res.body;\n      console.log(r);\n\n      if (r.status && r.token) {\n        window.localStorage['sns_id'] = this.state.userid;\n        window.localStorage['sns_auth_token'] = r.token;\n        this.setState({\n          Jump: '/timeline'\n        });\n        return;\n      }\n\n      this.setState({\n        msg: r.msg\n      });\n    });\n  }\n\n  render() {\n    if (this.state.jump) {\n      return __jsx(Redirect, {\n        to: this.state.jump,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      });\n    }\n\n    const changed = (name, e) => this.setState({\n      [name]: e.target.value\n    });\n\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, __jsx(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"\\u30ED\\u30B0\\u30A4\\u30F3\"), __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"\\u30E6\\u30FC\\u30B6\\u30FCID:\", __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      value: this.state.userid,\n      onChange: e => changed('userid', e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9: \", __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      type: \"password\",\n      value: this.state.passwd,\n      onChange: e => changed('passwd', e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      onClick: e => this.api('login'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\u30ED\\u30B0\\u30A4\\u30F3\"), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.msg))));\n  }\n\n}","map":{"version":3,"sources":["/app/pages/signin.js"],"names":["Nav","request","Login","Component","constructor","props","state","userid","password","jump","msg","api","command","get","query","passwd","end","err","res","r","body","console","log","status","token","window","localStorage","setState","Jump","render","changed","name","e","target","value"],"mappings":"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","sourcesContent":["import Nav from '../components/Nav'\nimport request from 'superagent'\n\nexport default class Login extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { userid: '',password: '',jump: '', msg: '' }\n    }\n\n    api (command) {\n        request\n            .get('/api/' + command)\n            .query({\n                userid: this.state.userid,\n                passwd: this.state.passwd\n            })\n            .end((err, res) => {\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/timeline'})\n                    return\n                }\n                this.setState({msg: r.msg})\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <Nav />\n                <div>\n                    <h1>ログイン</h1>\n                    <div>\n                        ユーザーID:<br />\n                        <input value={this.state.userid}\n                            onChange={e => changed('userid', e)} /><br />\n                        パスワード: <br />\n                        <input type='password' value={this.state.passwd}\n                            onChange={e => changed('passwd' , e)} /><br />\n                        <button onClick={e　=> this.api('login')}>ログイン</button><br />\n                        <p>{this.state.msg}</p>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}