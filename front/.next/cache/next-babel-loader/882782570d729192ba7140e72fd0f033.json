{"ast":null,"code":"var _jsxFileName = \"/app/components/molecules/signinform.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport request from 'superagent';\nexport default class SignInForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userid: '1',\n      password: '1',\n      jump: '',\n      msg: ''\n    };\n  }\n\n  api(command) {\n    console.log(command);\n    request.post('https://rails.local/api/' + command).send({\n      userid: this.state.userid,\n      passwd: this.state.passwd\n    }).end((err, res) => {\n      console.log(err); //console.log(res)\n\n      alert('無接続');\n      if (err) return;\n      const r = res.body;\n      console.log(r);\n\n      if (r.status && r.token) {\n        alert('接続');\n        window.localStorage['sns_id'] = this.state.userid;\n        window.localStorage['sns_auth_token'] = r.token;\n        this.setState({\n          Jump: '/'\n        });\n        return;\n      }\n\n      this.setState({\n        msg: r.msg\n      });\n    });\n  }\n\n  render() {\n    if (this.state.jump) {\n      return __jsx(Redirect, {\n        to: this.state.jump,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      });\n    }\n\n    const changed = (name, e) => this.setState({\n      [name]: e.target.value\n    });\n\n    return __jsx(\"div\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9:\"), __jsx(\"input\", {\n      value: this.state.userid,\n      onChange: e => changed('userid', e),\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"), __jsx(\"input\", {\n      type: \"password\",\n      value: this.state.passwd,\n      onChange: e => changed('passwd', e),\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      onClick: e => this.api('login'),\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"\\u30ED\\u30B0\\u30A4\\u30F3\"), __jsx(\"br\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      className: \"jsx-2915386316\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.msg)), __jsx(_JSXStyle, {\n      id: \"2915386316\",\n      __self: this\n    }, \"span.jsx-2915386316{display:block;}input.jsx-2915386316{width:100%;height:40px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9tb2xlY3VsZXMvc2lnbmluZm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvRDRCLEFBR3VDLEFBR0gsV0FDQyxHQUhoQixTQUlBIiwiZmlsZSI6Ii9hcHAvY29tcG9uZW50cy9tb2xlY3VsZXMvc2lnbmluZm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcmFnZW50J1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ25JbkZvcm0gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcylcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgdXNlcmlkOiAnMScscGFzc3dvcmQ6ICcxJyxqdW1wOiAnJywgbXNnOiAnJyB9XG4gICAgfVxuXG4gICAgYXBpIChjb21tYW5kKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbW1hbmQpXG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgIC5wb3N0KCdodHRwczovL3JhaWxzLmxvY2FsL2FwaS8nICsgY29tbWFuZClcbiAgICAgICAgICAgIC5zZW5kKHtcbiAgICAgICAgICAgICAgICB1c2VyaWQ6IHRoaXMuc3RhdGUudXNlcmlkLFxuICAgICAgICAgICAgICAgIHBhc3N3ZDogdGhpcy5zdGF0ZS5wYXNzd2RcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcylcbiAgICAgICAgICAgICAgICBhbGVydCgn54Sh5o6l57aaJylcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gcmVzLmJvZHlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyKVxuICAgICAgICAgICAgICAgIGlmIChyLnN0YXR1cyAmJiByLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmjqXntponKVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWydzbnNfaWQnXSA9IHRoaXMuc3RhdGUudXNlcmlkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3Nuc19hdXRoX3Rva2VuJ10gPSByLnRva2VuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe0p1bXA6ICcvJ30pXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHttc2c6IHIubXNnfSlcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUuanVtcCkge1xuICAgICAgICAgICAgcmV0dXJuIDxSZWRpcmVjdCB0bz17dGhpcy5zdGF0ZS5qdW1wfSAvPlxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYW5nZWQgPSAobmFtZSwgZSkgPT4gdGhpcy5zZXRTdGF0ZSh7W25hbWVdOiBlLnRhcmdldC52YWx1ZX0pXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPuODoeODvOODq+OCouODieODrOOCuTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17dGhpcy5zdGF0ZS51c2VyaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VkKCd1c2VyaWQnLCBlKX0gLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+44OR44K544Ov44O844OJPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ncGFzc3dvcmQnIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3ZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGNoYW5nZWQoJ3Bhc3N3ZCcgLCBlKX0gLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtl44CAPT4gdGhpcy5hcGkoJ2xvZ2luJyl9PuODreOCsOOCpOODszwvYnV0dG9uPjxiciAvPlxuICAgICAgICAgICAgICAgICAgICA8cD57dGhpcy5zdGF0ZS5tc2d9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufSJdfQ== */\\n/*@ sourceURL=/app/components/molecules/signinform.js */\"));\n  }\n\n}","map":{"version":3,"sources":["/app/components/molecules/signinform.js"],"names":["React","Component","request","SignInForm","constructor","props","state","userid","password","jump","msg","api","command","console","log","post","send","passwd","end","err","res","alert","r","body","status","token","window","localStorage","setState","Jump","render","changed","name","e","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport request from 'superagent'\n\n\nexport default class SignInForm extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { userid: '1',password: '1',jump: '', msg: '' }\n    }\n\n    api (command) {\n        console.log(command)\n        request\n            .post('https://rails.local/api/' + command)\n            .send({\n                userid: this.state.userid,\n                passwd: this.state.passwd\n            })\n            .end((err, res) => {\n                console.log(err)\n                //console.log(res)\n                alert('無接続')\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    alert('接続')\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/'})\n                    return\n                }\n                this.setState({msg: r.msg})\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <div>\n                    <span>メールアドレス:</span>\n                    <input value={this.state.userid}\n                        onChange={e => changed('userid', e)} /><br />\n                    <span>パスワード</span>\n                    <input type='password' value={this.state.passwd}\n                        onChange={e => changed('passwd' , e)} /><br />\n                    <button onClick={e　=> this.api('login')}>ログイン</button><br />\n                    <p>{this.state.msg}</p>\n                </div>\n                <style jsx>{`\n                    span {\n                        display: block;\n                    }\n                    input {\n                        width: 100%;\n                        height: 40px;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}