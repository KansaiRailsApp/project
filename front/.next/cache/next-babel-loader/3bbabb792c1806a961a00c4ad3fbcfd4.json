{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/app/components/molecules/signinform.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport request from 'superagent';\n\nvar SignInForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInForm, _Component);\n\n  function SignInForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignInForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInForm).call(this, props));\n    _this.state = {\n      userid: '1',\n      password: '1',\n      jump: '',\n      msg: ''\n    };\n    return _this;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"api\",\n    value: function api(command) {\n      var _this2 = this;\n\n      console.log(command);\n      request.post('https://rails.local/api/' + command).send({\n        userid: this.state.userid,\n        passwd: this.state.passwd\n      }).end(function (err, res) {\n        console.log(err); //console.log(res)\n\n        alert('無接続');\n        if (err) return;\n        var r = res.body;\n        console.log(r);\n\n        if (r.status && r.token) {\n          alert('接続');\n          window.localStorage['sns_id'] = _this2.state.userid;\n          window.localStorage['sns_auth_token'] = r.token;\n\n          _this2.setState({\n            Jump: '/'\n          });\n\n          return;\n        }\n\n        _this2.setState({\n          msg: r.msg\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.jump) {\n        return __jsx(Redirect, {\n          to: this.state.jump,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      }\n\n      var changed = function changed(name, e) {\n        return _this3.setState(_defineProperty({}, name, e.target.value));\n      };\n\n      return __jsx(\"div\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9:\"), __jsx(\"input\", {\n        value: this.state.userid,\n        onChange: function onChange(e) {\n          return changed('userid', e);\n        },\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"), __jsx(\"input\", {\n        type: \"password\",\n        value: this.state.passwd,\n        onChange: function onChange(e) {\n          return changed('passwd', e);\n        },\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        onClick: function onClick(e) {\n          return _this3.api('login');\n        },\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"\\u30ED\\u30B0\\u30A4\\u30F3\"), __jsx(\"br\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        className: \"jsx-2902384770\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, this.state.msg)), __jsx(_JSXStyle, {\n        id: \"2902384770\",\n        __self: this\n      }, \"span.jsx-2902384770{display:block;}input.jsx-2902384770{width:100%;height:32px;margin-bottom:40px;}button.jsx-2902384770{width:60px;height:32px;margin-left:auto;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9tb2xlY3VsZXMvc2lnbmluZm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvRDRCLEFBR3VDLEFBR0gsQUFLQSxXQUpDLEFBS0EsR0FSaEIsU0FJdUIsQUFLRixpQkFDckIsRUFMQSIsImZpbGUiOiIvYXBwL2NvbXBvbmVudHMvbW9sZWN1bGVzL3NpZ25pbmZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJhZ2VudCdcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaWduSW5Gb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHVzZXJpZDogJzEnLHBhc3N3b3JkOiAnMScsanVtcDogJycsIG1zZzogJycgfVxuICAgIH1cblxuICAgIGFwaSAoY29tbWFuZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhjb21tYW5kKVxuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgICAucG9zdCgnaHR0cHM6Ly9yYWlscy5sb2NhbC9hcGkvJyArIGNvbW1hbmQpXG4gICAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICAgICAgdXNlcmlkOiB0aGlzLnN0YXRlLnVzZXJpZCxcbiAgICAgICAgICAgICAgICBwYXNzd2Q6IHRoaXMuc3RhdGUucGFzc3dkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICAgICAgYWxlcnQoJ+eEoeaOpee2micpXG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHJlcy5ib2R5XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocilcbiAgICAgICAgICAgICAgICBpZiAoci5zdGF0dXMgJiYgci50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgn5o6l57aaJylcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZVsnc25zX2lkJ10gPSB0aGlzLnN0YXRlLnVzZXJpZFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWydzbnNfYXV0aF90b2tlbiddID0gci50b2tlblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtKdW1wOiAnLyd9KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bXNnOiByLm1zZ30pXG4gICAgICAgICAgICB9KVxuICAgIH1cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmp1bXApIHtcbiAgICAgICAgICAgIHJldHVybiA8UmVkaXJlY3QgdG89e3RoaXMuc3RhdGUuanVtcH0gLz5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gKG5hbWUsIGUpID0+IHRoaXMuc2V0U3RhdGUoe1tuYW1lXTogZS50YXJnZXQudmFsdWV9KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7jg6Hjg7zjg6vjgqLjg4njg6zjgrk6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3RoaXMuc3RhdGUudXNlcmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gY2hhbmdlZCgndXNlcmlkJywgZSl9IC8+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPuODkeOCueODr+ODvOODiTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3Bhc3N3b3JkJyB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd2R9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VkKCdwYXNzd2QnICwgZSl9IC8+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17ZeOAgD0+IHRoaXMuYXBpKCdsb2dpbicpfT7jg63jgrDjgqTjg7M8L2J1dHRvbj48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHA+e3RoaXMuc3RhdGUubXNnfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59Il19 */\\n/*@ sourceURL=/app/components/molecules/signinform.js */\"));\n    }\n  }]);\n\n  return SignInForm;\n}(Component);\n\nexport { SignInForm as default };","map":{"version":3,"sources":["/app/components/molecules/signinform.js"],"names":["React","Component","request","SignInForm","props","state","userid","password","jump","msg","command","console","log","post","send","passwd","end","err","res","alert","r","body","status","token","window","localStorage","setState","Jump","changed","name","e","target","value","api"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport request from 'superagent'\n\n\nexport default class SignInForm extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { userid: '1',password: '1',jump: '', msg: '' }\n    }\n\n    api (command) {\n        console.log(command)\n        request\n            .post('https://rails.local/api/' + command)\n            .send({\n                userid: this.state.userid,\n                passwd: this.state.passwd\n            })\n            .end((err, res) => {\n                console.log(err)\n                //console.log(res)\n                alert('無接続')\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    alert('接続')\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/'})\n                    return\n                }\n                this.setState({msg: r.msg})\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <div>\n                    <span>メールアドレス:</span>\n                    <input value={this.state.userid}\n                        onChange={e => changed('userid', e)} /><br />\n                    <span>パスワード</span>\n                    <input type='password' value={this.state.passwd}\n                        onChange={e => changed('passwd' , e)} /><br />\n                    <button onClick={e　=> this.api('login')}>ログイン</button><br />\n                    <p>{this.state.msg}</p>\n                </div>\n                <style jsx>{`\n                    span {\n                        display: block;\n                    }\n                    input {\n                        width: 100%;\n                        height: 32px;\n                        margin-bottom: 40px;\n                    }\n                    button {\n                        width: 60px;\n                        height: 32px;\n                        margin-left: auto;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}