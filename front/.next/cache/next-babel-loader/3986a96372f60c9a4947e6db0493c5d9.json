{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/app/pages/signin.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Nav from '../components/Nav';\nimport request from 'superagent';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      userid: '',\n      password: '',\n      jump: '',\n      msg: ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"api\",\n    value: function api(command) {\n      var _this2 = this;\n\n      request.get('/api/' + command).query({\n        userid: this.state.userid,\n        passwd: this.state.passwd\n      }).end(function (err, res) {\n        if (err) return;\n        var r = res.body;\n        console.log(r);\n\n        if (r.status && r.token) {\n          window.localStorage['sns_id'] = _this2.state.userid;\n          window.localStorage['sns_auth_token'] = r.token;\n\n          _this2.setState({\n            Jump: '/'\n          });\n\n          return;\n        }\n\n        _this2.setState({\n          msg: r.msg\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.jump) {\n        return __jsx(Redirect, {\n          to: this.state.jump,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      }\n\n      var changed = function changed(name, e) {\n        return _this3.setState(_defineProperty({}, name, e.target.value));\n      };\n\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, __jsx(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"\\u30ED\\u30B0\\u30A4\\u30F3\")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/app/pages/signin.js"],"names":["React","Component","Nav","request","Login","props","state","userid","password","jump","msg","command","get","query","passwd","end","err","res","r","body","console","log","status","token","window","localStorage","setState","Jump","changed","name","e","target","value"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,YAApB;;IAEqBC,K;;;;;AACjB,iBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAChB,+EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAaC,MAAAA,QAAQ,EAAE,EAAvB;AAA0BC,MAAAA,IAAI,EAAE,EAAhC;AAAoCC,MAAAA,GAAG,EAAE;AAAzC,KAAb;AAFgB;AAGnB;;;;wBAEIC,O,EAAS;AAAA;;AACVR,MAAAA,OAAO,CACFS,GADL,CACS,UAAUD,OADnB,EAEKE,KAFL,CAEW;AACHN,QAAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,MADhB;AAEHO,QAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ;AAFhB,OAFX,EAMKC,GANL,CAMS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACf,YAAID,GAAJ,EAAS;AACT,YAAME,CAAC,GAAGD,GAAG,CAACE,IAAd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;;AACA,YAAIA,CAAC,CAACI,MAAF,IAAYJ,CAAC,CAACK,KAAlB,EAAyB;AACrBC,UAAAA,MAAM,CAACC,YAAP,CAAoB,QAApB,IAAgC,MAAI,CAACnB,KAAL,CAAWC,MAA3C;AACAiB,UAAAA,MAAM,CAACC,YAAP,CAAoB,gBAApB,IAAwCP,CAAC,CAACK,KAA1C;;AACA,UAAA,MAAI,CAACG,QAAL,CAAc;AAACC,YAAAA,IAAI,EAAE;AAAP,WAAd;;AACA;AACH;;AACD,QAAA,MAAI,CAACD,QAAL,CAAc;AAAChB,UAAAA,GAAG,EAAEQ,CAAC,CAACR;AAAR,SAAd;AACH,OAjBL;AAkBH;;;6BACS;AAAA;;AACN,UAAG,KAAKJ,KAAL,CAAWG,IAAd,EAAoB;AAChB,eAAO,MAAC,QAAD;AAAU,UAAA,EAAE,EAAE,KAAKH,KAAL,CAAWG,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AACD,UAAMmB,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAOC,CAAP;AAAA,eAAa,MAAI,CAACJ,QAAL,qBAAgBG,IAAhB,EAAuBC,CAAC,CAACC,MAAF,CAASC,KAAhC,EAAb;AAAA,OAAhB;;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,CAFJ,CADJ;AASH;;;;EAxC8B/B,S;;SAAdG,K","sourcesContent":["import React, {Component} from 'react'\nimport Nav from '../components/Nav'\nimport request from 'superagent'\n\nexport default class Login extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { userid: '',password: '',jump: '', msg: '' }\n    }\n\n    api (command) {\n        request\n            .get('/api/' + command)\n            .query({\n                userid: this.state.userid,\n                passwd: this.state.passwd\n            })\n            .end((err, res) => {\n                if (err) return\n                const r = res.body\n                console.log(r)\n                if (r.status && r.token) {\n                    window.localStorage['sns_id'] = this.state.userid\n                    window.localStorage['sns_auth_token'] = r.token\n                    this.setState({Jump: '/'})\n                    return\n                }\n                this.setState({msg: r.msg})\n            })\n    }\n    render () {\n        if(this.state.jump) {\n            return <Redirect to={this.state.jump} />\n        }\n        const changed = (name, e) => this.setState({[name]: e.target.value})\n        return (\n            <div>\n                <Nav />\n                <div>\n                    <h1>ログイン</h1>\n                    \n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}